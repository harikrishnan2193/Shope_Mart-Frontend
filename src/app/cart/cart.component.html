<app-header></app-header>
<div *ngIf="(allProduct.length == 0)" class="d-flex justify-content-center align-items-center flex-column mt-5">
    <img src="https://media4.giphy.com/media/L2kr3y97uJauF6T6Lh/giphy.gif" alt="no image">
    <h3 class=" fw-bold mb-5">Your Cart Is <span style="color: rgb(19, 175, 192);">Empty</span></h3>
</div>
<div *ngIf="!(allProduct.length == 0)" class=" mt-5">
    <h3 class="d-flex justify-content-center fw-bold mb-5"> Cart  <span style="color: rgb(19, 175, 192);">Summary</span></h3>
    <div class="row">
        <div class="col-2"></div>
        <div class="col-5">
            <form action="" class="form-control shadow">
                <table class="table table-striped ">
                    <thead>
                        <tr>
                          <th scope="col">#</th>
                          <th scope="col">Product Name</th>
                          <th scope="col">Image</th>
                          <th scope="col">Quantity</th>
                          <th scope="col">Price</th>
                          <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let product of allProduct;let i = index">
                          <th scope="row"> {{i+1}} </th>
                          <td>{{product.title}}</td>
                          <td><img [src]="product.image" width="70px" alt="no image"></td>
                          <td>
                            <div class="d-flex" style="width: 150px;">
                                <button class="btn fw-bolder fs-3" (click)="decrementCartProduct(product._id)">-</button>
                                <input type="num" class="form-control text-center" [value]="product.quantity" style="max-width: 3rem;" readonly>
                                <button class="btn fw-bolder fs-3"(click)="incrementCartProduct(product._id)">+</button>
                            </div>
                          </td>
                          <td class=" pt-4 fw-bolder"><span style="color: rgb(19, 175, 192);">${{product.price}}</span></td>
                          <td class="pt-3"><button class="btn btn-outline-danger" (click)="removeCartItem(product._id)"><i class="fa-solid fa-trash"></i></button></td>
                        </tr>
                      </tbody>
                </table>
            </form>
            <div class="d-flex justify-content-center mb-5 mt-3">
                <button class="btn btn-outline-danger me-5" (click)="emptyAllCartProduct()">Empty Cart</button>
                <button class="btn btn-outline-success" routerLink="/">Add More</button>
            </div>
        </div>
        <div class="col-3">
            <form action="" class="form-control mb-5 shadow d-flex justify-content-center align-items-center flex-column">
                <h3 class="mt-3 fw-bold">Grand <span style="color: rgb(19, 175, 192);">Total</span>: â‚¹{{total}}</h3>
                <button class="btn btn-success mt-3 mb-3 fw-bold" routerLink="/checkout" (click)="checkOut()">CheckOut</button>
            </form>
        </div>
        <div class="col-2"></div>
    </div>
</div>
